# Pulumi TODO list

- [x] Cert-manager
- [x] A service with remote storage (NFS)
- [x] Dual ingress controllers (internal/public)
- [x] Figure out storage backups/volumes (longhorn?)
- [x] Document how to do restores
- [x] Database provider
  - [x] Use static volumes for databases to enable backups via Longhorn
- [x] DNS resolution for ingress, locally and remote
  - Use ExternalDNS x2 with annotation filters <https://kubernetes-sigs.github.io/external-dns/v0.18.0/docs/faq/#running-an-internal-and-external-dns-service>
  - [x] Cluster-internal as a service
  - [x] Locally (LAN) as DNS name
    - [x] Create public and private ingress for public things; to allow easier dns routing
  - [x] Remote (external to LAN) as DNS name
    - [x] Get this to report the router's IPv4 address instead of the ingress's IP
- [x] Traefik dashboards are not included in the DNS - what's going on there? lack of ingressroute traefik resource being watched by external-dns
- [x] Auth - Authelia? Keycloak? Authentik? Something else?
  - [x] Tinyauth
  - [x] PocketID
- [x] Set up email proxy (and configure it in PocketID and any others that need it)
- [ ] Move services over
- [ ] Add resource limits to core-services and apps
- [ ] Renovate bot to auto-update containers (this is mostly working; I have it for helm charts, but not container images yet)
- [ ] Docker registry caching/mirroring
- [ ] Get access by user groups working - coming in tinyauth v4 maybe; alternatively, try out oauth2proxy
- [ ] Network isolation and VLANs
- [ ] Multiple Tinyauth/PocketID instances
- [ ] Deploy from git using pulumi
